# 微前端从实战到源码

微前端就是将不同的功能按照不同的维度拆分为多个子应用，通过主应用来加载这些子应用

### 1.微前端解决的问题

- 不同团队，同时开发一个应用、
- 每个团队开发的模块可以独立开发，独立部署
- 实现增量迁移

### 2.如何实现微前端

可以将一个应用划分为若干个子应用，将子应用打包为一个个的模块，当路径切换的时候加载不同的子应用，这样每个子应用都是独立的

实现微前端的技术方案

- iframe
  - 最简单的方案，通过postMessage进行通信
  - 完美的沙箱机制自带应用隔离
  - 用户体验差，弹框只在iframe之中，在内部切换状态的时候刷新就会丢失状态
- web components 特点是w3c承认的
  - 将前端应用程序分解为自定义html元素
  - 基于customEvent实现通信
  - shadow dom天生的作用于隔离
  - 缺点：浏览器支持问题，学习成本，调试困难，修改样式困难，兼容性比较差

- single-spa
  - single-spa通过路由劫持实现应用的加载systemjs，提供应用间公共组件加载以及公共业务逻辑处理，子应用需要暴露固定的钩子bootstrap,mount,unmount接入协议
  - 基于props主应用子应用之间进行通信
  - 没有沙箱机制，需要自己实现js沙箱和css沙箱
  - 缺点：学习成本，没有沙箱机制，需要对原有的应用进行改造，子应用之间相同资源重复加载了
- module federation
  - 通过模块联邦将组件进行打包导出使用
  - 共享模块的方式进行通信
  - 没有css沙箱和js沙箱
  - 缺点：需要webpack5

​	









































